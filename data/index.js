import abi from 'ethereumjs-abi'

const code = '6080604052600461000e610086565b80828152602001915050604051809103906000f080158015610034573d6000803e3d6000fd5b506000806101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff16021790555034801561008057600080fd5b50610095565b60405160ee8061032383390190565b61027f806100a46000396000f300608060405260043610610041576000357c0100000000000000000000000000000000000000000000000000000000900463ffffffff16806395fe0e6514610046575b600080fd5b6100646004803603810190808035906020019092919050505061007a565b6040518082815260200191505060405180910390f35b60008082610086610156565b80828152602001915050604051809103906000f0801580156100ac573d6000803e3d6000fd5b5090508073ffffffffffffffffffffffffffffffffffffffff16636d4ce63c6040518163ffffffff167c0100000000000000000000000000000000000000000000000000000000028152600401602060405180830381600087803b15801561011357600080fd5b505af1158015610127573d6000803e3d6000fd5b505050506040513d602081101561013d57600080fd5b8101908080519060200190929190505050915050919050565b60405160ee80610166833901905600608060405234801561001057600080fd5b506040516020806100ee83398101806040528101908080519060200190929190505050806000819055505060a5806100496000396000f300608060405260043610603f576000357c0100000000000000000000000000000000000000000000000000000000900463ffffffff1680636d4ce63c146044575b600080fd5b348015604f57600080fd5b506056606c565b6040518082815260200191505060405180910390f35b60006002600054029050905600a165627a7a7230582054b78e169f337260d0926e5806392f88c2dd0f5385c575322f1583afc5b231650029a165627a7a72305820146c844db878fd4a41493aa07c0133b67c7fe1a0b3a590282078aa9f0d9eed860029608060405234801561001057600080fd5b506040516020806100ee83398101806040528101908080519060200190929190505050806000819055505060a5806100496000396000f300608060405260043610603f576000357c0100000000000000000000000000000000000000000000000000000000900463ffffffff1680636d4ce63c146044575b600080fd5b348015604f57600080fd5b506056606c565b6040518082815260200191505060405180910390f35b60006002600054029050905600a165627a7a7230582054b78e169f337260d0926e5806392f88c2dd0f5385c575322f1583afc5b231650029'
const encodeABI = ({ name, types = [], values = [] }) => {
  const methodABI = abi.methodID(name, types).toString('hex')
  const methodParams = abi.rawEncode(types, values).toString('hex')
  if (name) return new Buffer(`${methodABI}${methodParams}`, 'hex')
  return new Buffer(methodParams, 'hex')
}
const constructorValues = encodeABI({
  name: '',
  types: [],
  values: [],
}).toString('hex')

export default {
  code: Buffer.from(code + constructorValues, 'hex'),
  callData: encodeABI({
    name: 'createD',
    types: ['uint'],
    values: [10]
  })
}
