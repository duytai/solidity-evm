import abi from 'ethereumjs-abi'

const code = '60806040526000805560206040519081016040528060008152506001908051906020019061002e92919061008d565b5034801561003b57600080fd5b506040516102e53803806102e5833981018060405281019080805190602001909291908051820192919050505081600081905550806001908051906020019061008592919061008d565b505050610132565b828054600181600116156101000203166002900490600052602060002090601f016020900481019282601f106100ce57805160ff19168380011785556100fc565b828001600101855582156100fc579182015b828111156100fb5782518255916020019190600101906100e0565b5b509050610109919061010d565b5090565b61012f91905b8082111561012b576000816000905550600101610113565b5090565b90565b6101a4806101416000396000f300608060405260043610610041576000357c0100000000000000000000000000000000000000000000000000000000900463ffffffff1680631507040114610046575b600080fd5b34801561005257600080fd5b5061005b6100d6565b6040518080602001828103825283818151815260200191508051906020019080838360005b8381101561009b578082015181840152602081019050610080565b50505050905090810190601f1680156100c85780820380516001836020036101000a031916815260200191505b509250505060405180910390f35b606060018054600181600116156101000203166002900480601f01602080910402602001604051908101604052809291908181526020018280546001816001161561010002031660029004801561016e5780601f106101435761010080835404028352916020019161016e565b820191906000526020600020905b81548152906001019060200180831161015157829003601f168201915b50505050509050905600a165627a7a7230582076423b4c15422cd57232c554f661cb548b7dd1913b0787ab9a3adb32c34c725f0029'
const encodeABI = ({ name, types = [], values = [] }) => {
  const methodABI = abi.methodID(name, types).toString('hex')
  const methodParams = abi.rawEncode(types, values).toString('hex')
  if (name) return new Buffer(`${methodABI}${methodParams}`, 'hex')
  return new Buffer(methodParams, 'hex')
}
const constructorValues = encodeABI({
  name: '',
  types: ['int', 'string'],
  values: [9, 'LOVE']
}).toString('hex')
export default {
  code: Buffer.from(code + constructorValues, 'hex'),
  callData: encodeABI({
    name: 'getSymbol'
  })
}
